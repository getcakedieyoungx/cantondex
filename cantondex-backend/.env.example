# CantonDEX Backend Environment Variables

# Deployment Environment
ENVIRONMENT=development

# Database Configuration
DATABASE_URL=postgresql://cantondex:cantondex_dev@localhost:5432/cantondex
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_SSL=false

# Kafka Configuration
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_SASL_MECHANISM=PLAIN
KAFKA_SECURITY_PROTOCOL=PLAINTEXT

# Service URLs
API_GATEWAY_URL=http://api-gateway:8000
MATCHING_ENGINE_URL=grpc://matching-engine:50051
SETTLEMENT_COORDINATOR_URL=http://settlement-coordinator:8001
RISK_MANAGEMENT_URL=http://risk-management:8002
NOTIFICATION_SERVICE_URL=http://notification-service:8003
COMPLIANCE_SERVICE_URL=http://compliance-service:8004

# Authentication
JWT_SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# OAuth2 / OIDC (Keycloak)
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=cantondex
KEYCLOAK_CLIENT_ID=api-gateway
KEYCLOAK_CLIENT_SECRET=your-client-secret

# Canton Integration
CANTON_PARTICIPANT_URL=http://localhost:5011
CANTON_ADMIN_URL=http://localhost:5012
CANTON_DOMAIN_URL=http://localhost:5013

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Feature Flags
ENABLE_AUDIT_LOGGING=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_PERIOD=3600

# Monitoring
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
JAEGER_ENABLED=true
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# Security
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
ALLOW_CREDENTIALS=true
CSRF_PROTECTION_ENABLED=true

# PQS Configuration
PQS_SYNC_INTERVAL_SECONDS=60
PQS_BATCH_SIZE=1000

# TimescaleDB Configuration
TIMESCALE_DB_URL=postgresql://cantondex:cantondex_dev@localhost:5432/cantondex_timescale
TIMESCALE_RETENTION_DAYS=30

# WebSocket Configuration
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PONG_TIMEOUT=10
WEBSOCKET_MAX_MESSAGE_SIZE=1048576

# Risk Management
MARGIN_MAINTENANCE_RATIO=0.30
MARGIN_INITIAL_RATIO=0.50
VAR_CONFIDENCE_LEVEL=0.95
VAR_LOOKBACK_DAYS=250

# Compliance
COMPLIANCE_RULES_ENABLED=true
AUDIT_LOG_RETENTION_YEARS=7
KYC_PROVIDER=jumio
AML_SCREENING_ENABLED=true

# Alert Configuration
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_ADDRESS=admin@cantondex.example.com
ALERT_SLACK_ENABLED=false
ALERT_SLACK_WEBHOOK_URL=

# AWS Configuration (for production)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_SECRETS_MANAGER_ENABLED=false

# HashiCorp Vault (for secrets management)
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=
VAULT_ENABLED=false
